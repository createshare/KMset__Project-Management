# Smoke Testing 冒烟测试

## 什么是冒烟测试

- 在软件中，“冒烟测试”这一术语描述的是在将代码更改嵌入到产品的源树中之前对这些更改进行验证的过程。在检查了代码后，冒烟测试是确定和修复软件缺陷的最经济有效的方法。冒烟测试设计用于确认代码中的更改会按预期运行，且不会破坏整个版本的稳定性。
- 冒烟测试是在软件开发过程中的一种针对软件版本包的快速基本功能验证策略，是对软件基本功能进行确认验证的手段，并非对软件版本包的深入测试。冒烟测试也是针对软件版本包进行详细测试之前的预测试，执行冒烟测试的主要目的是快速验证软件基本功能是否有缺陷。
- 如果冒烟测试的测试例不能通过，则不必做进一步的测试。
- 进行冒烟测试之前需要确定冒烟测试的用例集，对用例集要求覆盖软件的基本功能。
- 发现 BUG 后开发人员 fix bug 后。测试人员针对该问题进行测试，冒烟测试的成功与否关系到下一步系统测试能否进行。
- 与系统测试不同在于前者覆盖范围不够，只要保证修改部分及其关联的模块不出问题就可。
- 冒烟测试是预测试。在实际的软件测试工作中，冒烟测试在软件研发的不同阶段有所不同。大体可以分为三类：
  - 1）形成集成测试版本以前：验证各个单元能够成功执行，并保证测试版本能够顺利集成；
  - 2）形成集成测试版本：以保证新的或者更改过的代码不破坏集成版本的完成性和稳定性；
  - 3）后期预测试缺陷的修正：针对每个缺陷所做的缺陷修正都要先在干净的链接环境中进行冒烟测试，测试通过后才能更新相关软件版本。


- 冒烟测试能手动执行，也可以在版本编译后自动化执行，它是对基本功能的确认，非深入测试，但要覆盖到面，即所有的更改点都要进行确认。采用自动化执行是，可以结合每日构建后进行自动化的每日 smoking test，如果测试通过，则把更改后的代码自动合并到主干代码仓库中，作为正式提交测试的版本。

  

- 冒烟测试包括：
  - 预测试
    - 冒烟测试也是针对软件版本包进行详细测试之前的预测试，执行冒烟测试的主要目的是快速验证软件基本功能是否有缺陷。
    - 如果冒烟测试的测试例不能通过，则不必做进一步的测试。
    - 要求测试人员在测试开始前跟开发人员确认需求和重要的流程、功能，最好将功能点和流程以及预期结果和开发人员说明清楚。冒烟测试不要求测试结果像正式测试阶段那么准确，但是也需要列一个指标来衡量测试是否通过。
  - 测试用例
    - 进行冒烟测试之前需要确定冒烟测试的用例集，对用例集要求覆盖软件的基本功能。
  - 测试对象
    - 冒烟测试的对象是每一个新编译的需要正式测试的软件版本。通过冒烟测试，在软件代码正式编译并交付测试之前，先尽量消除其表面的错误，减少后期测试的负担。
  - 数据的准备
    - 在测试前，透彻的了解主要功能对应表的存储结构，准备好需要的数据。冒烟测试开始后，不会因为这些工作浪费时间。
  - 预计时间
    - 根据列出的功能点和开发人员代码质量的可信度，评估冒烟测试在不同环境下可能花费的最长和最短时间，列到测试计划中。
  - 执行者
    - 冒烟测试的执行者是版本编译人员，通过冒烟测试，测试人员可以迅速熟悉测试总体流程，这一方面有助于测试人员准确制定测试时间计划，合理安排工作进度，另一方面也有助于测试人员提前做好相关设备、数据的准备，为正式测试的开展奠定基础。
      

## 冒烟测试（Smoke Testing） vs 回归测试（Regression testing）

- 冒烟测试就是新版本送测后的测试，以决定是否要继续测试乃至发布。
  - 冒烟测试一般用于每日构建 (Nightly build)，构建服务器首先从 CVS 服务器上，下载最新的源代码，然后编译单元测试，运行单元测试通过后，编译可执行文件，可执行文件若可运行，并能执行最基本的功能，则认为通过了冒烟测试。
- 回归测试就是解决一个问题后的测试，方向是判断新的代码是否引入了新问题。
  - 回归测试，是软件维护阶段对软件修改后进行的测试。两种测试用在软件生命的不同周期。









![XXX](figures/XXX.jpg)



